<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Document</title>

    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div class="w-full min-h-screen bg-zinc-900 text-white px-10 ">
       
      
            <diV class="mb-10 ">
                <div class="pt-10 flex justify-between">
                    
                    <h3 class="text-3xl mb-5">Profile page</h3>
                    <a href="/logout" class="bg-orange-500 px-3 py-3  rounded-md">Logout</a>
                </div>
                <a href="/profile/upload" class="text-indigo-400 ">Upload ProfileImage</a>
             
             
             <div class="w-20 h-20 rounded-full overflow-hidden mt-2 ">
                <img src="/images/uploads/<%=user.profilepic%>" class="w-20 h-20 object-cover  rounded-full border border-4 border-lime-300">
               
             </div>
              <a href="/profile/update" class="text-indigo-400 ">Edit</a>
            <h1 class="mb-5 mt-5">Welcome, <%= user.name %></h1>
           <h5 class="mb-5" >You can Create your own posts</h5>

           <form class="flex flex-wrap gap-3" action="/post" method="post">
            <textarea class="w-1/3 rounded-md text-black px-3 pt-2" placeholder="write your post..." name="postdata"></textarea>
            <input type="submit" value="Create Post" class="text-white bg-indigo-900  px-3 py-3 rounded-md cursor-pointer" >
           </form>
            </diV>
           
            <div >
            <h3 class="mb-5">your post</h3>
                <div class="flex flex-wrap gap-3">
                   
               <%user.posts.reverse().forEach((post)=>{ %>
                <div class="w-1/4 h-50 bg-zinc-600 px-10 py-10 rounded-md ">
                    <div>
                        <h3 class="text-lg text-lime-400" >@<%= user.username%></h3>
                    
                    <p><%= post.postdata%></p>
                    </div>
                   
               
                  <div class="mt-5 text-yellow-400">
                     <small><%=post.likes.length%> Like</small>
                  </div>
               
                <div class="btns flex justify-between mt-2">
                    
                    <a class="text-red-500 text-base bg-white px-1 py-1 rounded-lg" href="/like/<%=post._id%>">
                       
                        <strong>

                         <%=post.likes.indexOf(user._id)===-1 ? "Like": "Unlike"%>
                        
                    </strong>
                        
                       
                    </a>
                    <a class="text-blue-700 text-base bg-white px-1 py-1 rounded-lg" href="/edit/<%=post._id%>"><strong>Edit</strong></a>
                </div>
            </div>
           
            <% })%>
                 
            </div>
               
               
       

   </div> 
     
 </div></body>
</html>